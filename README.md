# library_system

Небольшая библиотечная система

## Общая информация

В библиотеке хранятся книги(издания, брошюры, журналы, рукописи и т.д.).

У книг есть Название и Описание.

В библиотеку приходят читатели/посетители. У них есть Имя и Информация о посетителе.

Им выдаются книги или они сдают книги.

## Система пользователей

- Обычный пользователь/работник на выдаче приеме книг - может CRUD посетителей, может CRUD записи о выдаче/приеме книг

- Библиотекарь - может то же, что и Обычный пользователь, плюс CRUD книги

- Главный пользователь/администратор - может то же, что и Библиотекарь, плюс имеет доступ к админке, где также может управлять пользователями.

## Запуск проекта

### Запуск проекта production

Пример заполнения ENV-файла находится в файле example.env

```bash
#!/bin/bash
sudo make production
```

### Запуск проекта для разработки фронтенда

#### Первоначальный запуск

Для первоначального запуска бекенд части необходимо переименовать **example_frontend_dev.env** в **.env** файл.
В нём, кроме всего прочего, указать данные для создания Администратора

```text
DJANGO_SUPERUSER_USERNAME=
DJANGO_SUPERUSER_PASSWORD=
DJANGO_SUPERUSER_EMAIL=
```

Затем выполнить команду

```bash
#!/bin/bash
sudo make front_dev_first_run
```

С ее помощью:

- развернется контейнер с БД на Postgres,
- развернется контейнер с бекендом из директории **backend** с проброшенным портом 8000 для доступа к API (со стороны фронтенда этот параметр указан в **frontend/proxy.conf.json**),
- применятся миграции к БД,
- создастся суперпользователь Администратор,
- файлы БД будут находится в директории **data** этого проекта, с доступом от **root**,

#### Запуск после изменений в части бекенда

После подтягивания изменений с репозитория необходимо выполнить команду

```bash
#!/bin/bash
sudo make front_dev_after_pull
```

Она применит новые миграции, если таковые были и запустит контейнеры с БД и бекендом.

#### Обычный запуск для разработки после остановки всех контейнеров

```bash
#!/bin/bash
sudo make front_dev_run
```
